<ActorFrame Condition="FUCK_EXE">
<children>
	<Layer
		Type="BitmapText"
		Font="common normal"
		Text="oops"
		InitCommand="halign,0;hidden,1;zoom,0.6;x,4;y,5;diffusealpha,0.5;shadowlength,1"
		OnCommand="queuecommand,BunUpdate"
		BunUpdateCommand="%function(self)
		if tonumber(GAMESTATE:GetScreenID()) == 573555 and not GAMESTATE:IsEditMode() then
			self:hidden(1)
			local life = SCREENMAN:GetTopScreen():GetLife(0)
			self:effectclock('beat')
			if life <= 0.3 then
				self:diffuseshift()
				self:effectcolor1(1,0.4,0.4,1)
				self:effectcolor2(1,0.1,0.1,1)
			elseif life == 1 then
				self:diffuseshift()
				self:effectcolor1(1,0.8,0.2,1)
				self:effectcolor2(1,0.5,0,1)
			else
				self:stopeffect()
				self:settext('hi')
			end
			
			-- i took this from a wiki
			function BunRound(num,dp)
				local mult = 10^(math.max(dp,0))
				return math.floor((num*mult+0.5))/mult
			end
			self:settext(''..(BunRound((life*100),3))..'%')

		else
			self:hidden(1)
		end
		
		self:sleep(0.02);
		self:queuecommand('BunUpdate');
		end"
	/>
	
	<Layer
		Type="BitmapText"
		Font="common normal"
		Text="oops"
		InitCommand="halign,0;hidden,1;zoom,0.4;x,4;y,23;diffusealpha,0.5;shadowlength,1"
		OnCommand="queuecommand,BunUpdate"
		BunUpdateCommand="%function(self)
		if tonumber(GAMESTATE:GetScreenID()) == 573555 and not GAMESTATE:IsEditMode() then
			self:hidden(1)
			local life = SCREENMAN:GetTopScreen():GetLife(0)
			if life <= Bun_LowHP then
				Bun_LowHP = life
			end
			
			-- i took this from a wiki
			function BunRound(num,dp)
				local mult = 10^(math.max(dp,0))
				return math.floor((num*mult+0.5))/mult
			end
			
			if STATSMAN:GetCurStageStats():GetPlayerStageStats(0):GetGrade() == 20 then
				self:settext('Lifebar Failed!')
				self:diffuse(1,0.4,0.4,0.5)
			else
				self:settext('Low: '..(BunRound((Bun_LowHP*100),3))..'%')
				self:diffuse(1,1,1,0.5)
			end
		else
			self:hidden(1)
		end
		
		self:sleep(0.02);
		self:queuecommand('BunUpdate');
		end"
	/>
</children>
</ActorFrame>